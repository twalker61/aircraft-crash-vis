<!DOCTYPE html>
<meta charset="utf-8">

<head>
	<title>Aircraft Accidents</title>
	<script src="https://d3js.org/d3.v4.min.js"></script>
	<script src="https://d3js.org/topojson.v2.min.js"></script>
	<script type="text/javascript" src="http://code.jquery.com/jquery-latest.js"></script>
	<script src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.2/js/bootstrap.min.js"></script>
<link rel="stylesheet" href="styles.css">
<link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.2/css/bootstrap-combined.min.css" rel="stylesheet">
</head>

<body>
	
<!-- <svg width="960" height="600"></svg> -->

<div class="tabbable">
            <ul class="nav nav-tabs">
            	<li class="active"><a class="map-tab" href="#map" data-toggle="tab">Select States</a></li>
                <li><a class="phase-tab" href="#phases" data-toggle="tab">View Injuries by Phase</a></li>
                <li><a class="state-tab" href="#states" data-toggle="tab">View Injuries by State</a></li>
            </ul>
            <div class="tab-content">
            	<div class="tab-pane active" id="map">
            		<div id="stateBarChart" class="stateBarChart">
            		</div>
            		<div id="reset-container" class="reset-container">
            		</div>
            		<div id="button-container" class="button-container" style="padding-left: 20px;">
            		</div>
            		<div style="text-align: center; padding-top: 50px;">
            			<span style="font-style: italic;">Select which states' data you wish to view. Blue states are selected; white states are not selected.</span>
            		</div>
                </div>
                <div class="tab-pane" id="phases">
                	<script>$.getScript("phases.js", () => {
                        create();
                    });</script>
                    <div style="float: left;">
                        <svg id="phases-svg"></svg>
                        <p style="text-align:center;">Hover over each stage's total or click on a circle to see the stage statistics.</p>
                    </div>
                    
                    <div id="chart3" style="float: left;">
                        <strong>Phase: </strong> <span id="currentPhase"></span> <br/>
                        <strong style="color: crimson;">Fatal Injuries: </strong><span id="currFatal"></span> <br/>
                        <strong style="color: mediumpurple;">Serious Injuries: </strong> <span id="currSerious"></span> <br/>
                        <strong style="color: #7eb338;">Uninjured: </strong> <span id="currUninjured"></span> <br/>
                    </div>
                    <!-- <p>Hover over each stage's total or click on a circle to see the stage statistics.</p> -->
                </div>
                <div class="tab-pane" id="states">
                	<script>$.getScript("selection.js", () => {
                		create();
                	});</script>
                	<div style="float: left;">
                		<svg id="states-svg"></svg>
                	</div>
                	<div id="chart3" style="float: left;">
                    	<strong>State: </strong> <span id="currentState"></span> <br/>
                    	<strong style="color: crimson;">Fatal Injuries: </strong><span id="currentFatal"></span> <br/>
                    	<strong style="color: mediumpurple;">Serious Injuries: </strong> <span id="currentSerious"></span> <br/>
                    	<strong style="color: #7eb338;">Uninjured: </strong> <span id="currentUninjured"></span> <br/>
                    	<div style="padding-top: 30px;">
                    	<button id="nyScaleButton" class="ny-scale-button">Exclude NY from Scale</button>
                    	</div>
                    </div>  
                </div>
            </div>
        </div>

<!-- <script src="selection.js" ></script> -->

<script>
        /*$.getScript("selection.js", function() {
			   $.selection.map();
			});*/
		$.getScript("map.js", () => {
			create();
		});
        //$(".phase-tab").click(function() {
        //    $.getScript("phases.js");
        //})
        /*$(".map-tab").click(function() {
            $.getScript("selection.js", function() {
			   map();
			});
       		$.getScript("map.js");
        })*/
        //$(".state-tab").click(function() {
        //    $.getScript("selection.js");
        //})
</script>


</body>